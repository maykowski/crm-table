<h2>Test2</h2>

<div class="table-panel">
  <popover-content #myPopover placement="bottom" [closeOnClickOutside]="true">
    <div class="panel-heading">
      Columns
    </div>

    <ul dnd-sortable-container [sortableData]="columns" class="column-list">
      <li *ngFor="let item of columns; let i = index" class="column-item" dnd-sortable [sortableIndex]="i" (dragstart)="toggleHighlightCol(i, true)" (dragend)="toggleHighlightCol(i, false)">
        <div class="row">
          <div class="col-sm-3">
            <input type='checkbox' id="id_{{item.name}}" [(ngModel)]="item.active" [disabled]="!item.activable" class="column-checkbox"/>
            <label for="id_{{item.name}}"></label>
          </div>

          <div class="col-sm-7 column-name"><span>{{item.name}}</span><span class="inactivable" *ngIf="!item.activable">*</span></div>

          <div class="col-sm-2">
            <div class="glyphicon glyphicon-menu-hamburger"></div>
          </div>

        </div>

      </li>
    </ul>
  </popover-content>

  <input type="button" [popover]="myPopover" class="column-btn">
</div>


<table class="table table-striped">
  <th *ngFor="let column of columns" [class.sortable]="column.sortable" (click)="headerClicked(column, $event)" [hide]="!column.active" class="column">
    <div *ngIf="column.active">
      {{column.name}}
      <span class="column-sort-icon" *ngIf="column.sortable">
                            <span class="glyphicon glyphicon-sort column-sortable-icon" [class.column-sortable]="column.sortable" [hide]="column.property === sortBy"></span>
                            <span [hide]="column.property !== sortBy">
                                <span class="glyphicon glyphicon-triangle-top sort-arrow" [hide]="sortAsc"></span>
                                <span class="glyphicon glyphicon-triangle-bottom sort-arrow" [hide]="!sortAsc"></span>
                            </span>
                        </span>
    </div>
  </th>
  <tr *ngFor="let row of items | paginate: { itemsPerPage: 10, currentPage: p }">
    <td *ngFor="let col of columns" [class.highlight]="col.hightlight" [hide]="!col.active" class="table-cell">
      <div *ngIf="col.active">
        <div *ngIf="row[col.name]!=true &&  row[col.name] !=false && !checkIfDate(row[col.name])">{{row[col.name]}}</div>
        <div *ngIf="checkIfDate(row[col.name])">{{row[col.name] | date:"dd-MM-yyyy"}}</div>
        <div *ngIf="row[col.name]==true" class="checkbox-row">
          <input type="checkbox" [(ngModel)]="row[col.name]">
          <label class="row-checkbox-checked"></label>
        </div>
        <div *ngIf="row[col.name]==false" class="checkbox-row">
          <input type="checkbox" [(ngModel)]="row[col.name]">
          <label class="row-checkbox-unchecked"></label>
        </div>
        <!--{{row[col.name]}}-->
      </div>
    </td>
  </tr>
</table>
<pagination-controls (pageChange)="p = $event"></pagination-controls>


